<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="678px" preserveAspectRatio="none" style="width:439px;height:678px;" version="1.1" viewBox="0 0 439 678" width="439px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ukh6lbaysa63" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1ukh6lbaysa63)" height="483.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="92.5" y="97.6094"/><rect fill="#FFFFFF" filter="url(#f1ukh6lbaysa63)" height="483.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="167.5" y="97.6094"/><rect fill="#FFFFFF" filter="url(#f1ukh6lbaysa63)" height="344.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="242.5" y="236.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="31" x2="31" y1="87.6094" y2="589.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="97" x2="97" y1="87.6094" y2="589.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="172" x2="172" y1="87.6094" y2="589.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="247" x2="247" y1="87.6094" y2="589.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="331" x2="331" y1="87.6094" y2="589.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="8" y="84.5332">User 1</text><ellipse cx="31.5" cy="13" fill="#FEFECE" filter="url(#f1ukh6lbaysa63)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M31.5,21 L31.5,48 M18.5,29 L44.5,29 M31.5,48 L18.5,63 M31.5,48 L44.5,63 " fill="none" filter="url(#f1ukh6lbaysa63)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="8" y="603.3613">User 1</text><ellipse cx="31.5" cy="616.4375" fill="#FEFECE" filter="url(#f1ukh6lbaysa63)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M31.5,624.4375 L31.5,651.4375 M18.5,632.4375 L44.5,632.4375 M31.5,651.4375 L18.5,666.4375 M31.5,651.4375 L44.5,666.4375 " fill="none" filter="url(#f1ukh6lbaysa63)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="65" y="84.5332">Replica 1</text><path d="M79.5,34 C79.5,24 97.5,24 97.5,24 C97.5,24 115.5,24 115.5,34 L115.5,60 C115.5,70 97.5,70 97.5,70 C97.5,70 79.5,70 79.5,60 L79.5,34 " fill="#FEFECE" filter="url(#f1ukh6lbaysa63)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M79.5,34 C79.5,44 97.5,44 97.5,44 C97.5,44 115.5,44 115.5,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="65" y="603.3613">Replica 1</text><path d="M79.5,616.4375 C79.5,606.4375 97.5,606.4375 97.5,606.4375 C97.5,606.4375 115.5,606.4375 115.5,616.4375 L115.5,642.4375 C115.5,652.4375 97.5,652.4375 97.5,652.4375 C97.5,652.4375 79.5,652.4375 79.5,642.4375 L79.5,616.4375 " fill="#FEFECE" filter="url(#f1ukh6lbaysa63)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M79.5,616.4375 C79.5,626.4375 97.5,626.4375 97.5,626.4375 C97.5,626.4375 115.5,626.4375 115.5,616.4375 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="140" y="84.5332">Replica 2</text><path d="M154.5,34 C154.5,24 172.5,24 172.5,24 C172.5,24 190.5,24 190.5,34 L190.5,60 C190.5,70 172.5,70 172.5,70 C172.5,70 154.5,70 154.5,60 L154.5,34 " fill="#FEFECE" filter="url(#f1ukh6lbaysa63)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M154.5,34 C154.5,44 172.5,44 172.5,44 C172.5,44 190.5,44 190.5,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="140" y="603.3613">Replica 2</text><path d="M154.5,616.4375 C154.5,606.4375 172.5,606.4375 172.5,606.4375 C172.5,606.4375 190.5,606.4375 190.5,616.4375 L190.5,642.4375 C190.5,652.4375 172.5,652.4375 172.5,652.4375 C172.5,652.4375 154.5,652.4375 154.5,642.4375 L154.5,616.4375 " fill="#FEFECE" filter="url(#f1ukh6lbaysa63)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M154.5,616.4375 C154.5,626.4375 172.5,626.4375 172.5,626.4375 C172.5,626.4375 190.5,626.4375 190.5,616.4375 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="215" y="84.5332">Replica 3</text><path d="M229.5,34 C229.5,24 247.5,24 247.5,24 C247.5,24 265.5,24 265.5,34 L265.5,60 C265.5,70 247.5,70 247.5,70 C247.5,70 229.5,70 229.5,60 L229.5,34 " fill="#FEFECE" filter="url(#f1ukh6lbaysa63)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M229.5,34 C229.5,44 247.5,44 247.5,44 C247.5,44 265.5,44 265.5,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="215" y="603.3613">Replica 3</text><path d="M229.5,616.4375 C229.5,606.4375 247.5,606.4375 247.5,606.4375 C247.5,606.4375 265.5,606.4375 265.5,616.4375 L265.5,642.4375 C265.5,652.4375 247.5,652.4375 247.5,652.4375 C247.5,652.4375 229.5,652.4375 229.5,642.4375 L229.5,616.4375 " fill="#FEFECE" filter="url(#f1ukh6lbaysa63)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M229.5,616.4375 C229.5,626.4375 247.5,626.4375 247.5,626.4375 C247.5,626.4375 265.5,626.4375 265.5,616.4375 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="308" y="84.5332">User 2</text><ellipse cx="331.5" cy="13" fill="#FEFECE" filter="url(#f1ukh6lbaysa63)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M331.5,21 L331.5,48 M318.5,29 L344.5,29 M331.5,48 L318.5,63 M331.5,48 L344.5,63 " fill="none" filter="url(#f1ukh6lbaysa63)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="308" y="603.3613">User 2</text><ellipse cx="331.5" cy="616.4375" fill="#FEFECE" filter="url(#f1ukh6lbaysa63)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M331.5,624.4375 L331.5,651.4375 M318.5,632.4375 L344.5,632.4375 M331.5,651.4375 L318.5,666.4375 M331.5,651.4375 L344.5,666.4375 " fill="none" filter="url(#f1ukh6lbaysa63)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FFFFFF" filter="url(#f1ukh6lbaysa63)" height="483.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="92.5" y="97.6094"/><rect fill="#FFFFFF" filter="url(#f1ukh6lbaysa63)" height="483.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="167.5" y="97.6094"/><rect fill="#FFFFFF" filter="url(#f1ukh6lbaysa63)" height="344.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="242.5" y="236.6641"/><rect fill="#EEEEEE" filter="url(#f1ukh6lbaysa63)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="424.5" x="3" y="118.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="427.5" y1="118.7852" y2="118.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="427.5" y1="121.7852" y2="121.7852"/><rect fill="#EEEEEE" filter="url(#f1ukh6lbaysa63)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="174" x="128.25" y="107.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="134.25" y="125.1045">write data id=1 version=7</text><polygon fill="#A80036" points="80.5,143.9609,90.5,147.9609,80.5,151.9609,84.5,147.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="86.5" y1="147.9609" y2="147.9609"/><polygon fill="#A80036" points="42.5,174.3125,32.5,178.3125,42.5,182.3125,38.5,178.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36.5" x2="91.5" y1="178.3125" y2="178.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="48.5" y="173.4561">ok</text><polygon fill="#A80036" points="155.5,188.3125,165.5,192.3125,155.5,196.3125,159.5,192.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="161.5" y1="192.3125" y2="192.3125"/><polygon fill="#A80036" points="42.5,218.6641,32.5,222.6641,42.5,226.6641,38.5,222.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36.5" x2="166.5" y1="222.6641" y2="222.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="48.5" y="217.8076">ok</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="224.5" x2="234.5" y1="231.6641" y2="241.6641"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="224.5" x2="234.5" y1="241.6641" y2="231.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="229.5" y1="236.6641" y2="236.6641"/><rect fill="#EEEEEE" filter="url(#f1ukh6lbaysa63)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="424.5" x="3" y="265.8398"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="427.5" y1="265.8398" y2="265.8398"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="427.5" y1="268.8398" y2="268.8398"/><rect fill="#EEEEEE" filter="url(#f1ukh6lbaysa63)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="106" x="162.25" y="254.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="168.25" y="272.1592">read data id=1</text><polygon fill="#A80036" points="113.5,296.0156,103.5,300.0156,113.5,304.0156,109.5,300.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="107.5" x2="330.5" y1="300.0156" y2="300.0156"/><path d="M336,294.0156 L336,304.0156 L357,304.0156 L357,304.0156 L347,294.0156 L336,294.0156 " fill="#FBFB77" filter="url(#f1ukh6lbaysa63)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M347,294.0156 L347,304.0156 L357,304.0156 L347,294.0156 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="319.5,331.3672,329.5,335.3672,319.5,339.3672,323.5,335.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="102.5" x2="325.5" y1="335.3672" y2="335.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="109.5" y="330.5107">version=7</text><polygon fill="#A80036" points="188.5,345.3672,178.5,349.3672,188.5,353.3672,184.5,349.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="330.5" y1="349.3672" y2="349.3672"/><polygon fill="#A80036" points="319.5,375.7188,329.5,379.7188,319.5,383.7188,323.5,379.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="177.5" x2="325.5" y1="379.7188" y2="379.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="184.5" y="374.8623">version=7</text><polygon fill="#A80036" points="263.5,389.7188,253.5,393.7188,263.5,397.7188,259.5,393.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="257.5" x2="330.5" y1="393.7188" y2="393.7188"/><polygon fill="#A80036" points="319.5,420.0703,329.5,424.0703,319.5,428.0703,323.5,424.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="252.5" x2="325.5" y1="424.0703" y2="424.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="259.5" y="419.2139">version=6</text><rect fill="#EEEEEE" filter="url(#f1ukh6lbaysa63)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="424.5" x="3" y="453.2461"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="427.5" y1="453.2461" y2="453.2461"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="427.5" y1="456.2461" y2="456.2461"/><rect fill="#EEEEEE" filter="url(#f1ukh6lbaysa63)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="52" x="189.25" y="442.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="38" x="195.25" y="459.5654">repair</text><polygon fill="#A80036" points="263.5,507.9492,253.5,511.9492,263.5,515.9492,259.5,511.9492" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="257.5" x2="330.5" y1="511.9492" y2="511.9492"/><path d="M336,481.4219 L336,540.4219 L413,540.4219 L413,491.4219 L403,481.4219 L336,481.4219 " fill="#FBFB77" filter="url(#f1ukh6lbaysa63)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M403,481.4219 L403,491.4219 L413,491.4219 L403,481.4219 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="342" y="499.917">write data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="342" y="516.2686">id=1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="342" y="532.6201">version=7</text><polygon fill="#A80036" points="319.5,567.8281,329.5,571.8281,319.5,575.8281,323.5,571.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="252.5" x2="325.5" y1="571.8281" y2="571.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="259.5" y="566.9717">ok</text><!--
@startuml


 actor "User 1" as user1
 database "Replica 1" as replica1
 database "Replica 2" as replica2
 database "Replica 3" as replica3 
actor "User 2" as user2

activate replica1
activate replica2

==write data id=1 version=7==
user1 -> replica1
user1 <- - replica1 : ok
user1 -> replica2   
user1 <- - replica2 : ok
user1 -X replica3 

activate replica3

==read data id=1==
user2 -> replica1 : 
note right: 
user2 <- - replica1 : version=7
user2 -> replica2
user2 <- - replica2 : version=7
user2 -> replica3 
user2 <- - replica3 : version=6

==repair==
user2 -> replica3 
note right: write data\nid=1\nversion=7
user2 <- - replica3 : ok

@enduml

PlantUML version 1.2018.12(Sun Oct 21 13:15:15 EEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_181-b13
Operating System: Windows 7
OS Version: 6.1
Default Encoding: Cp1250
Language: en
Country: US
--></g></svg>